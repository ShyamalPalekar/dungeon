<Window x:Class="DungeonGame.Windows.UpdateWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Game Update Available"
        Width="500"
        Height="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{StaticResource DarkBackground}">

    <Window.Resources>
        <Style TargetType="TextBlock"
                BasedOn="{StaticResource BodyText}"/>
        <Style TargetType="Button"
                BasedOn="{StaticResource PrimaryButton}"/>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0"
                Orientation="Horizontal"
                Margin="0,0,0,20">
            <Ellipse Width="40"
                    Height="40"
                    Fill="#4CAF50"
                    Margin="0,0,15,0"/>
            <StackPanel>
                <TextBlock Text="Update Available!"
                           FontSize="20"
                        FontWeight="Bold"
                           Foreground="{StaticResource AccentBrush}"/>
                <TextBlock x:Name="VersionText"
                           Text="Version 1.0.0 → 2.0.0"
                           FontSize="14"
                        Opacity="0.8"/>
            </StackPanel>
        </StackPanel>

        <!-- Release Info -->
        <StackPanel Grid.Row="1"
                Margin="0,0,0,15">
            <TextBlock Text="Release Information:"
                    FontWeight="Bold"
                    Margin="0,0,0,5"/>
            <TextBlock x:Name="ReleaseDateText"
                    Text="Released: January 1, 2025"/>
            <TextBlock x:Name="PreReleaseText"
                    Text="⚠️ Pre-release version"
                       Foreground="Orange"
                    Visibility="Collapsed"/>
        </StackPanel>

        <!-- Release Notes -->
        <Border Grid.Row="2"
                Background="#2A2A2A"
                CornerRadius="5"
                Padding="10"
                Margin="0,0,0,15">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <TextBlock x:Name="ReleaseNotesText"
                           Text="Loading release notes..."
                           TextWrapping="Wrap"
                           FontFamily="Consolas"
                           FontSize="12"/>
            </ScrollViewer>
        </Border>

        <!-- Progress Bar (Hidden initially) -->
        <StackPanel Grid.Row="3"
                x:Name="ProgressPanel"
                Visibility="Collapsed"
                Margin="0,0,0,15">
            <TextBlock Text="Downloading update..."
                    Margin="0,0,0,5"/>
            <ProgressBar x:Name="DownloadProgress"
                    Height="10"
                         Background="#3A3A3A"
                    Foreground="{StaticResource AccentBrush}"/>
            <TextBlock x:Name="ProgressText"
                    Text="0%"
                    HorizontalAlignment="Center"
                    Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="4"
                Orientation="Horizontal"
                HorizontalAlignment="Right">
            <Button x:Name="UpdateButton"
                    Content="Update Now"
                    Width="100"
                    Margin="0,0,10,0"
                    Click="UpdateButton_Click"/>
            <Button x:Name="LaterButton"
                    Content="Later"
                    Width="80"
                    Margin="0,0,10,0"
                    Background="#666"
                    Click="LaterButton_Click"/>
            <Button x:Name="SkipButton"
                    Content="Skip Version"
                    Width="100"
                    Background="#444"
                    Click="SkipButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
